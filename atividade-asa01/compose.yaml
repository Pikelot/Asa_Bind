services:
    dns:
      build:
        context: ./dns
        dockerfile: Dockerfile
      container_name: dns
      ports:
        -  "53:53/tcp"
        -  "53:53/udp"
    
    asa-server:
      build:
        context: ./asa-server
        dockerfile: Dockerfile
      container_name: asa-server
      networks:
        - asa-network
    
    asa-server2:
      build: 
        context: ./asa-server
        dockerfile: Dockerfile
      container_name: asa-server2
      networks:
        - asa-network

    sales:
      build:
        context: ./sales
        dockerfile: Dockerfile
      container_name: sales
      networks:
        - asa-network

    proxy:
      build:
        context: ./proxy
        dockerfile: Dockerfile
      container_name: proxy-nginx
      ports:
        - 80:80/tcp
      depends_on:
        - asa-server
      networks:
        - asa-network

networks:
  asa-network:
    driver: bridge
